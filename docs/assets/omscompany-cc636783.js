import{as as u,aj as w,a as y,o as h,I as D,Q as p,ah as E,ai as c,q as t,n as o,m as v,M as C,ak as n,aW as S,aX as k}from"./index-4e66693d.js";import{E as F}from"./el-overlay-5d7acc48.js";import{a as U,E as $}from"./el-table-column-1b23615c.js";import"./el-tag-3aed28f9.js";import{E as N,a as T,b as q}from"./el-input-b637a84d.js";import{E as B}from"./el-button-bad787b3.js";/* empty css                   */import{E as I}from"./el-message-box-a940a289.js";import{E as m}from"./index-11be697d.js";import"./refs-cbced2c2.js";import"./scroll-45713807.js";import"./_initCloneObject-b40d657f.js";import"./debounce-562d200a.js";import"./validator-55a3f62c.js";const P=e=>u.request({url:"mall/oms-company-address/page",method:"post",data:e}),A=e=>u.request({url:"mall/oms-company-address/add",method:"POST",data:e}),z=e=>u.request({url:"mall/oms-company-address/del/"+e.id,method:"GET"}),L=e=>u.request({url:"mall/oms-company-address/edit",method:"POST",data:e});const M=y({props:["id"],data(){return{companys:[],resuleData:{},requestData:{current:1,size:10},resuleData:{},dialogVisible:!1,itemData:{},isEdit:!1,ruleForm:{name:""},show:!0,dialogVisible:!1,itemData:{},isEdit:!1}},methods:{handleEdit(){this.flag=!0},showEdit(e){this.isEdit=!0,this.itemData={id:e.id,addressName:e.addressName,receiveStatus:e.receiveStatus,name:e.name,phone:e.phone,province:e.province,city:e.city,region:e.region,detailAddress:e.detailAddress},this.dialogVisible=!0},confirm(){this.$refs.dialogForm.validate(e=>{if(e)this.itemData.createTime=new Date,A(this.itemData).then(l=>{l.code===1?(this.dialogVisible=!1,m({message:"新增成功",type:"success"}),this.getList(),this.findPage()):m({message:"新增失败",type:"error"})});else return!1})},editConfirm(){this.$refs.dialogForm.validate(e=>{if(e)L(this.itemData).then(l=>{l.code===1?(this.dialogVisible=!1,m({message:"修改成功",type:"success"}),this.findPage()):m({message:"修改失败",type:"error"})});else return!1})},handleSizeChange(e){this.requestData.size=e,this.findPage()},confire(){this.dialogVisible=!1,this.itemData={}},getList(){P(this.requestData).then(e=>{this.resuleData=e.data.page,this.companys=this.resuleData.records,console.log(this.resuleData)})},showDialog(){this.isEdit=!1,this.itemData={},this.dialogVisible=!0},handleDelete(e){console.log(e),I.confirm("是否删除该记录?","删除数据",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{z({id:e.id}).then(l=>{l.code===1?(m({type:"success",message:"删除成功"}),this.getList()):m({type:"error",message:"删除失败"})})}).catch(()=>{m({type:"info",message:"取消删除"})})}},mounted(){this.getList()}}),O=e=>(S("data-v-8a91c4b2"),e=e(),k(),e),_={class:""},j=O(()=>p("h2",null,"公司订单",-1)),G={class:"tools"},Q={class:"dialog-footer"};function W(e,l,X,H,J,K){const s=T,i=q,r=B,f=N,d=$,b=U,g=F;return h(),D("div",_,[j,p("div",null,[E(t(f,{inline:!0,model:e.ruleForm,ref:"ruleForm",class:"demo-form-inline"},{default:o(()=>[t(i,{label:"公司名称",prop:"name"},{default:o(()=>[t(s,{modelValue:e.ruleForm.name,"onUpdate:modelValue":l[0]||(l[0]=a=>e.ruleForm.name=a),placeholder:"公司名称"},null,8,["modelValue"])]),_:1}),t(i,null,{default:o(()=>[t(r,{type:"primary",onClick:l[1]||(l[1]=a=>e.submitForm("ruleForm"))},{default:o(()=>[n("搜索 ")]),_:1}),t(r,{onClick:l[2]||(l[2]=a=>e.resetForm("ruleForm"))},{default:o(()=>[n("重置")]),_:1})]),_:1})]),_:1},8,["model"]),[[c,e.show]]),p("div",G,[t(r,{icon:"Plus",onClick:e.showDialog},null,8,["onClick"])])]),t(b,{data:e.companys,"border:true":"",style:{width:"100%"}},{default:o(()=>[t(d,{prop:"id",label:"编号",width:"100"}),t(d,{prop:"addressName",label:"地址名称",width:"150"}),t(d,{prop:"sendStatus",label:"默认发货地址",width:"100"}),t(d,{prop:"receiveStatus",label:"默认收获地址",width:"100"}),t(d,{prop:"name",label:"收获人姓名",width:"80"}),t(d,{prop:"phone",label:"电话",width:"102"}),t(d,{prop:"province",label:"省",width:"100"}),t(d,{prop:"city",label:"市",width:"100"}),t(d,{prop:"region",label:"区",width:"100"}),t(d,{prop:"detailAddress",label:"详细地址",width:"150"}),t(d,{label:"操作"},{default:o(a=>[t(r,{size:"small",onClick:V=>e.showEdit(a.row)},{default:o(()=>[n("编辑")]),_:2},1032,["onClick"]),t(r,{size:"small",type:"danger",onClick:V=>e.handleDelete(a.row)},{default:o(()=>[n("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e.dialogVisible?(h(),v(g,{key:0,modelValue:e.dialogVisible,"onUpdate:modelValue":l[15]||(l[15]=a=>e.dialogVisible=a),title:e.isEdit?"修改数据":"新增数据",width:"400px"},{footer:o(()=>[p("span",Q,[t(r,{type:"primary",onClick:l[13]||(l[13]=a=>e.confire())},{default:o(()=>[n("取消")]),_:1}),t(r,{type:"primary",onClick:l[14]||(l[14]=a=>e.isEdit?e.editConfirm():e.confirm())},{default:o(()=>[n("确认")]),_:1})])]),default:o(()=>[t(f,{ref:"dialogForm",model:e.itemData,rules:e.rules},{default:o(()=>[t(i,{label:"编号","label-width":"100",prop:"id"},{default:o(()=>[t(s,{modelValue:e.itemData.id,"onUpdate:modelValue":l[3]||(l[3]=a=>e.itemData.id=a),autocomplete:"off",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(i,{label:"地址名称","label-width":"100",prop:"addressName"},{default:o(()=>[t(s,{modelValue:e.itemData.addressName,"onUpdate:modelValue":l[4]||(l[4]=a=>e.itemData.addressName=a),autocomplete:"off",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(i,{label:"默认发货地址","label-width":"100",prop:"sendStatus"},{default:o(()=>[t(s,{modelValue:e.itemData.sendStatus,"onUpdate:modelValue":l[5]||(l[5]=a=>e.itemData.sendStatus=a),autocomplete:"off",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(i,{label:"默认收货地址","label-width":"100",prop:"receiveStatus"},{default:o(()=>[t(s,{modelValue:e.itemData.receiveStatus,"onUpdate:modelValue":l[6]||(l[6]=a=>e.itemData.receiveStatus=a),autocomplete:"off",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(i,{label:"收货人姓名","label-width":"100",prop:"name"},{default:o(()=>[t(s,{modelValue:e.itemData.name,"onUpdate:modelValue":l[7]||(l[7]=a=>e.itemData.name=a),autocomplete:"off",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(i,{label:"电话","label-width":"100",prop:"phone"},{default:o(()=>[t(s,{modelValue:e.itemData.phone,"onUpdate:modelValue":l[8]||(l[8]=a=>e.itemData.phone=a),autocomplete:"off",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(i,{label:"省","label-width":"100",prop:"province"},{default:o(()=>[t(s,{modelValue:e.itemData.province,"onUpdate:modelValue":l[9]||(l[9]=a=>e.itemData.province=a),autocomplete:"off",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(i,{label:"市","label-width":"100",prop:"city"},{default:o(()=>[t(s,{modelValue:e.itemData.city,"onUpdate:modelValue":l[10]||(l[10]=a=>e.itemData.city=a),autocomplete:"off",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(i,{label:"区","label-width":"100",prop:"region"},{default:o(()=>[t(s,{modelValue:e.itemData.region,"onUpdate:modelValue":l[11]||(l[11]=a=>e.itemData.region=a),autocomplete:"off",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),t(i,{label:"详细地址","label-width":"100",prop:"detailAddress"},{default:o(()=>[t(s,{modelValue:e.itemData.detailAddress,"onUpdate:modelValue":l[12]||(l[12]=a=>e.itemData.detailAddress=a),autocomplete:"off",style:{width:"200px"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])):C("",!0)])}const ne=w(M,[["render",W],["__scopeId","data-v-8a91c4b2"]]);export{ne as default};
