import{aj as V,a as _,o as w,I as E,Q as u,q as t,n as o,T as k,ak as r}from"./index-e913ff2d.js";import{E as F}from"./el-overlay-a4518769.js";import{a as y,b as A,E as v}from"./el-input-cb7f48d8.js";import{E as P}from"./el-select-3f5c59ab.js";import"./el-tag-185b0755.js";import{a as z,E as $}from"./el-table-column-293e55d3.js";import{E as B}from"./el-button-dfd295e9.js";import{a as I,b as L,c as T,d as U}from"./index-5a8ad1a5.js";import{c as W}from"./cloneDeep-36821c01.js";import{E as s}from"./index-c657a219.js";import"./refs-0f2c73b3.js";import"./scroll-2f74979b.js";import"./_initCloneObject-e19fe7d2.js";import"./index-68f3b845.js";import"./debounce-35ee1cfa.js";import"./validator-c4ae5d88.js";const D=_({data(){return{adCates:[],page:{total:0,current:1,size:10},dialogFormVisible:!1,adCate:{height:"",id:0,name:"",width:""},formLabelWidth:80}},mounted(){this.getAdCatesPage(1)},methods:{toEdit(e){console.log(e),this.dialogFormVisible=!0,this.adCate=W(e)},getAdCatesPage(e){I({current:e,size:2}).then(i=>{console.log(i);const m=i.data.page;this.adCates=m.records,this.page=m}).catch(i=>{console.log(i)})},currentchange(e){this.getAdCatesPage(e),this.page.current=e},del(e){console.log(e),L({id:e}).then(i=>{if(i.success)this.getAdCatesPage(this.page.current);else return console.log(i.msg),!1}).catch(i=>{})},toAdd(){this.dialogFormVisible=!0},save(){const e=this.adCate;e.id==0?T(e).then(a=>{if(a.success)this.dialogFormVisible=!1,this.getAdCatesPage(this.page.current),s(a.msg);else return s(a.msg),!1}).catch(a=>{s("网络错误联系管理员")}):U(e).then(a=>{if(a.success)this.dialogFormVisible=!1,this.getAdCatesPage(this.page.current),s(a.msg);else return s(a.msg),!1}).catch(a=>{s("网络错误联系管理员")})}}}),N={class:"adCates"},j={class:"adcate-tools"},q={class:"dialog-footer"};function M(e,a,i,m,Q,G){const d=B,n=$,h=z,f=P,p=y,g=A,c=v,C=F;return w(),E(k,null,[u("div",N,[u("div",j,[t(d,{type:"warning",onClick:e.toAdd},{default:o(()=>[r("添加")]),_:1},8,["onClick"])]),t(h,{data:e.adCates,style:{width:"100%"}},{default:o(()=>[t(n,{fixed:"",prop:"id",label:"#",width:"50"}),t(n,{prop:"name",label:"广告类型"}),t(n,{prop:"width",label:"宽度",width:"120"}),t(n,{prop:"height",label:"高度",width:"120"}),t(n,{fixed:"right",label:"操作",width:"120"},{default:o(l=>[t(d,{link:"",type:"primary",size:"small",onClick:b=>e.toEdit(l.row)},{default:o(()=>[r("更新")]),_:2},1032,["onClick"]),t(d,{link:"",type:"primary",size:"small",onClick:b=>e.del(l.row.id)},{default:o(()=>[r("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),t(f,{layout:"prev, pager, next","page-size":e.page.size,total:e.page.total,onCurrentChange:e.currentchange},null,8,["page-size","total","onCurrentChange"])]),t(C,{modelValue:e.dialogFormVisible,"onUpdate:modelValue":a[4]||(a[4]=l=>e.dialogFormVisible=l),title:"广告类型编辑"},{footer:o(()=>[u("span",q,[t(d,{onClick:a[3]||(a[3]=l=>e.dialogFormVisible=!1)},{default:o(()=>[r("Cancel")]),_:1}),t(d,{type:"primary",onClick:e.save},{default:o(()=>[r(" 保存 ")]),_:1},8,["onClick"])])]),default:o(()=>[t(c,{model:e.adCate},{default:o(()=>[t(g,{label:"广告类型","label-width":e.formLabelWidth},{default:o(()=>[t(p,{modelValue:e.adCate.name,"onUpdate:modelValue":a[0]||(a[0]=l=>e.adCate.name=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),t(g,{label:"width","label-width":e.formLabelWidth},{default:o(()=>[t(p,{modelValue:e.adCate.width,"onUpdate:modelValue":a[1]||(a[1]=l=>e.adCate.width=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),t(g,{label:"height","label-width":e.formLabelWidth},{default:o(()=>[t(p,{modelValue:e.adCate.height,"onUpdate:modelValue":a[2]||(a[2]=l=>e.adCate.height=l),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}const se=V(D,[["render",M]]);export{se as default};
