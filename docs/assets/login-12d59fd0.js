import{aj as g,a as F,r as E,aP as k,o as b,I as h,Q as f,q as o,n as r,aQ as V,ak as d}from"./index-e913ff2d.js";import{E as v,a as w,b as y}from"./el-input-cb7f48d8.js";import{E as $}from"./el-button-dfd295e9.js";import{E as C}from"./el-image-viewer-8836c340.js";import{u as I}from"./index-5a8ad1a5.js";import"./_initCloneObject-e19fe7d2.js";import"./debounce-35ee1cfa.js";import"./scroll-2f74979b.js";const U=F({setup(){return{src:E("../../src/assets/logo.png")}},data(){return{n:30,userForm:{email:"",password:""},rules:{email:[{required:!0,message:"请输入正确的电子邮箱",trigger:"blur"},{type:"email",message:"电子邮箱格式错误",trigger:"blur"}],password:[{required:!0,message:"请输入正确的用户密码",trigger:"blur"},{min:8,message:"密码长度不得小于8个字符",trigger:"blur"}]}}},mounted(){},methods:{...k(V,["setToken","fillUserinfo"]),btnLogin(){const e=this,s=e.$refs.ruleFormRef;s&&s.validate(m=>{if(m)I(e.userForm).then(t=>{if(t.success){const l=t.data.userinfo;console.log(e),e.setToken(l.token),e.fillUserinfo(l),e.$router.push("/")}else return!1}).catch(t=>{console.log(t)});else return console.log("error submit!"),!1})},resetForm(){this.$refs.ruleFormRef.resetFields()}}}),B={class:"login"},L={class:"login-form"},R={class:"login-form-logo"};function q(e,s,m,c,t,l){const p=C,i=w,a=y,u=$,_=v;return b(),h("div",B,[f("div",L,[f("div",R,[o(p,{src:e.src,fit:"fill",lazy:!0},null,8,["src"])]),o(_,{ref:"ruleFormRef",model:e.userForm,"status-icon":"",rules:e.rules,class:"login-ruleForm"},{default:r(()=>[o(a,{prop:"email"},{default:r(()=>[o(i,{modelValue:e.userForm.email,"onUpdate:modelValue":s[0]||(s[0]=n=>e.userForm.email=n),autocomplete:"off",placeholder:"请输入你的用户邮箱","suffix-icon":"Message"},null,8,["modelValue"])]),_:1}),o(a,{prop:"password"},{default:r(()=>[o(i,{modelValue:e.userForm.password,"onUpdate:modelValue":s[1]||(s[1]=n=>e.userForm.password=n),type:"password",autocomplete:"off",placeholder:"请输入你的用户密码","suffix-icon":"Lock"},null,8,["modelValue"])]),_:1}),o(a,{class:"login-form-btns"},{default:r(()=>[o(u,{type:"primary",onClick:e.btnLogin},{default:r(()=>[d("登录")]),_:1},8,["onClick"]),o(u,{onClick:e.resetForm},{default:r(()=>[d("Reset")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])])])}const S=g(U,[["render",q],["__scopeId","data-v-a9d87654"]]);export{S as default};
