import{s as Qe,f as Ze,i as xe,b as de,d as ae,E as F,_ as q,a as M,r as I,c as D,e as O,p as ie,g as eo,t as le,u as P,w as j,h as oo,j as H,k as Y,l as R,o as G,m as se,n as E,q as l,v as no,x as to,y as Fe,z as ve,A as Oe,O as ao,B as Z,C as lo,D as ee,F as so,G as ro,H as io,I as x,J as uo,K as ue,L as ce,M as fe,N as re,P as co,Q as z,R as po,S as he,T as Be,U as Ie,V as fo,W as De,X as Ae,Y as we,Z as Ke,$ as ye,a0 as Le,a1 as vo,a2 as mo,a3 as Me,a4 as bo,a5 as _o,a6 as go,a7 as ho,a8 as wo,a9 as yo,aa as ke,ab as Eo,ac as Co,ad as $o,ae as Ne,af as To,ag as Io,ah as ko,ai as No,aj as So,ak as te,al as Ro}from"./index-4e66693d.js";import{E as Ee,u as Po,U as ze}from"./el-button-bad787b3.js";import{E as Fo}from"./el-tag-3aed28f9.js";import{E as Oo}from"./el-avatar-56995b0b.js";import{c as X,E as Bo}from"./index-88ab3c4a.js";import{c as Do,E as Ao,d as Ko,a as Ge,C as Lo,b as Mo,e as zo,f as Go,g as Uo,F as Vo,L as Ho}from"./dropdown-de0b53a0.js";import{c as Ue}from"./refs-cbced2c2.js";const Yo=(e,o,u)=>Ze(e.subTree).filter(a=>{var t;return xe(a)&&((t=a.type)==null?void 0:t.name)===o&&!!a.component}).map(a=>a.component.uid).map(a=>u[a]).filter(a=>!!a),Jo=(e,o)=>{const u={},s=Qe([]);return{children:s,addChild:t=>{u[t.uid]=t,s.value=Yo(e,o,u)},removeChild:t=>{delete u[t],s.value=s.value.filter(i=>i.uid!==t)}}},Wo=de({style:{type:ae([String,Array,Object])},currentTabId:{type:ae(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:ae(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:jo,ElCollectionItem:qo,COLLECTION_INJECTION_KEY:Ce,COLLECTION_ITEM_INJECTION_KEY:Xo}=Do("RovingFocusGroup"),$e=Symbol("elRovingFocusGroup"),Ve=Symbol("elRovingFocusGroupItem"),Qo={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},Zo=(e,o)=>{if(o!=="rtl")return e;switch(e){case F.right:return F.left;case F.left:return F.right;default:return e}},xo=(e,o,u)=>{const s=Zo(e.key,u);if(!(o==="vertical"&&[F.left,F.right].includes(s))&&!(o==="horizontal"&&[F.up,F.down].includes(s)))return Qo[s]},en=(e,o)=>e.map((u,s)=>e[(s+o)%e.length]),Te=e=>{const{activeElement:o}=document;for(const u of e)if(u===o||(u.focus(),o!==document.activeElement))return},Se="currentTabIdChange",Re="rovingFocusGroup.entryFocus",on={bubbles:!1,cancelable:!0},nn=M({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:Wo,emits:[Se,"entryFocus"],setup(e,{emit:o}){var u;const s=I((u=e.currentTabId||e.defaultCurrentTabId)!=null?u:null),c=I(!1),a=I(!1),t=I(null),{getItems:i}=D(Ce,void 0),d=O(()=>[{outline:"none"},e.style]),y=p=>{o(Se,p)},v=()=>{c.value=!0},h=Y(p=>{var g;(g=e.onMousedown)==null||g.call(e,p)},()=>{a.value=!0}),m=Y(p=>{var g;(g=e.onFocus)==null||g.call(e,p)},p=>{const g=!P(a),{target:f,currentTarget:C}=p;if(f===C&&g&&!P(c)){const N=new Event(Re,on);if(C==null||C.dispatchEvent(N),!N.defaultPrevented){const T=i().filter(b=>b.focusable),A=T.find(b=>b.active),B=T.find(b=>b.id===P(s)),U=[A,B,...T].filter(Boolean).map(b=>b.ref);Te(U)}}a.value=!1}),n=Y(p=>{var g;(g=e.onBlur)==null||g.call(e,p)},()=>{c.value=!1}),_=(...p)=>{o("entryFocus",...p)};ie($e,{currentTabbedId:eo(s),loop:le(e,"loop"),tabIndex:O(()=>P(c)?-1:0),rovingFocusGroupRef:t,rovingFocusGroupRootStyle:d,orientation:le(e,"orientation"),dir:le(e,"dir"),onItemFocus:y,onItemShiftTab:v,onBlur:n,onFocus:m,onMousedown:h}),j(()=>e.currentTabId,p=>{s.value=p??null}),oo(t,Re,_)}});function tn(e,o,u,s,c,a){return H(e.$slots,"default")}var an=q(nn,[["render",tn],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const ln=M({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:jo,ElRovingFocusGroupImpl:an}});function sn(e,o,u,s,c,a){const t=R("el-roving-focus-group-impl"),i=R("el-focus-group-collection");return G(),se(i,null,{default:E(()=>[l(t,no(to(e.$attrs)),{default:E(()=>[H(e.$slots,"default")]),_:3},16)]),_:3})}var rn=q(ln,[["render",sn],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const un=M({components:{ElRovingFocusCollectionItem:qo},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:o}){const{currentTabbedId:u,loop:s,onItemFocus:c,onItemShiftTab:a}=D($e,void 0),{getItems:t}=D(Ce,void 0),i=Fe(),d=I(null),y=Y(n=>{o("mousedown",n)},n=>{e.focusable?c(P(i)):n.preventDefault()}),v=Y(n=>{o("focus",n)},()=>{c(P(i))}),h=Y(n=>{o("keydown",n)},n=>{const{key:_,shiftKey:p,target:g,currentTarget:f}=n;if(_===F.tab&&p){a();return}if(g!==f)return;const C=xo(n);if(C){n.preventDefault();let T=t().filter(A=>A.focusable).map(A=>A.ref);switch(C){case"last":{T.reverse();break}case"prev":case"next":{C==="prev"&&T.reverse();const A=T.indexOf(f);T=s.value?en(T,A+1):T.slice(A+1);break}}ve(()=>{Te(T)})}}),m=O(()=>u.value===P(i));return ie(Ve,{rovingFocusGroupItemRef:d,tabIndex:O(()=>P(m)?0:-1),handleMousedown:y,handleFocus:v,handleKeydown:h}),{id:i,handleKeydown:h,handleFocus:v,handleMousedown:y}}});function cn(e,o,u,s,c,a){const t=R("el-roving-focus-collection-item");return G(),se(t,{id:e.id,focusable:e.focusable,active:e.active},{default:E(()=>[H(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var dn=q(un,[["render",cn],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const me=Symbol("elDropdown"),{ButtonGroup:pn}=Ee,fn=M({name:"ElDropdown",components:{ElButton:Ee,ElButtonGroup:pn,ElScrollbar:Fo,ElDropdownCollection:Ao,ElTooltip:Oe,ElRovingFocusGroup:rn,ElOnlyChild:ao,ElIcon:Z,ArrowDown:lo},props:Ko,emits:["visible-change","click","command"],setup(e,{emit:o}){const u=re(),s=ee("dropdown"),{t:c}=so(),a=I(),t=I(),i=I(null),d=I(null),y=I(null),v=I(null),h=I(!1),m=[F.enter,F.space,F.down],n=O(()=>({maxHeight:ro(e.maxHeight)})),_=O(()=>[s.m(T.value)]),p=Fe().value,g=O(()=>e.id||p);j([a,le(e,"trigger")],([r,$],[W])=>{var oe,ne,pe;const _e=co($)?$:[$];(oe=W==null?void 0:W.$el)!=null&&oe.removeEventListener&&W.$el.removeEventListener("pointerenter",B),(ne=r==null?void 0:r.$el)!=null&&ne.removeEventListener&&r.$el.removeEventListener("pointerenter",B),(pe=r==null?void 0:r.$el)!=null&&pe.addEventListener&&_e.includes("hover")&&r.$el.addEventListener("pointerenter",B)},{immediate:!0}),io(()=>{var r,$;($=(r=a.value)==null?void 0:r.$el)!=null&&$.removeEventListener&&a.value.$el.removeEventListener("pointerenter",B)});function f(){C()}function C(){var r;(r=i.value)==null||r.onClose()}function N(){var r;(r=i.value)==null||r.onOpen()}const T=Po();function A(...r){o("command",...r)}function B(){var r,$;($=(r=a.value)==null?void 0:r.$el)==null||$.focus()}function J(){}function U(){const r=P(d);r==null||r.focus(),v.value=null}function b(r){v.value=r}function k(r){h.value||(r.preventDefault(),r.stopImmediatePropagation())}function w(){o("visible-change",!0)}function S(r){(r==null?void 0:r.type)==="keydown"&&d.value.focus()}function K(){o("visible-change",!1)}return ie(me,{contentRef:d,role:O(()=>e.role),triggerId:g,isUsingKeyboard:h,onItemEnter:J,onItemLeave:U}),ie("elDropdown",{instance:u,dropdownSize:T,handleClick:f,commandHandler:A,trigger:le(e,"trigger"),hideOnClick:le(e,"hideOnClick")}),{t:c,ns:s,scrollbar:y,wrapStyle:n,dropdownTriggerKls:_,dropdownSize:T,triggerId:g,triggerKeys:m,currentTabId:v,handleCurrentTabIdChange:b,handlerMainButtonClick:r=>{o("click",r)},handleEntryFocus:k,handleClose:C,handleOpen:N,handleBeforeShowTooltip:w,handleShowTooltip:S,handleBeforeHideTooltip:K,onFocusAfterTrapped:r=>{var $,W;r.preventDefault(),(W=($=d.value)==null?void 0:$.focus)==null||W.call($,{preventScroll:!0})},popperRef:i,contentRef:d,triggeringElementRef:a,referenceElementRef:t}}});function vn(e,o,u,s,c,a){var t;const i=R("el-dropdown-collection"),d=R("el-roving-focus-group"),y=R("el-scrollbar"),v=R("el-only-child"),h=R("el-tooltip"),m=R("el-button"),n=R("arrow-down"),_=R("el-icon"),p=R("el-button-group");return G(),x("div",{class:ce([e.ns.b(),e.ns.is("disabled",e.disabled)])},[l(h,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(t=e.referenceElementRef)==null?void 0:t.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},uo({content:E(()=>[l(y,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:E(()=>[l(d,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:E(()=>[l(i,null,{default:E(()=>[H(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:E(()=>[l(v,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:E(()=>[H(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(G(),se(p,{key:0},{default:E(()=>[l(m,ue({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:E(()=>[H(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),l(m,ue({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:E(()=>[l(_,{class:ce(e.ns.e("icon"))},{default:E(()=>[l(n)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):fe("v-if",!0)],2)}var mn=q(fn,[["render",vn],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const bn=M({name:"DropdownItemImpl",components:{ElIcon:Z},props:Ge,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:o}){const u=ee("dropdown"),{role:s}=D(me,void 0),{collectionItemRef:c}=D(Lo,void 0),{collectionItemRef:a}=D(Xo,void 0),{rovingFocusGroupItemRef:t,tabIndex:i,handleFocus:d,handleKeydown:y,handleMousedown:v}=D(Ve,void 0),h=Ue(c,a,t),m=O(()=>s.value==="menu"?"menuitem":s.value==="navigation"?"link":"button"),n=Y(_=>{const{code:p}=_;if(p===F.enter||p===F.space)return _.preventDefault(),_.stopImmediatePropagation(),o("clickimpl",_),!0},y);return{ns:u,itemRef:h,dataset:{[Mo]:""},role:m,tabIndex:i,handleFocus:d,handleKeydown:n,handleMousedown:v}}}),_n=["aria-disabled","tabindex","role"];function gn(e,o,u,s,c,a){const t=R("el-icon");return G(),x(Be,null,[e.divided?(G(),x("li",ue({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):fe("v-if",!0),z("li",ue({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:o[0]||(o[0]=i=>e.$emit("clickimpl",i)),onFocus:o[1]||(o[1]=(...i)=>e.handleFocus&&e.handleFocus(...i)),onKeydown:o[2]||(o[2]=he((...i)=>e.handleKeydown&&e.handleKeydown(...i),["self"])),onMousedown:o[3]||(o[3]=(...i)=>e.handleMousedown&&e.handleMousedown(...i)),onPointermove:o[4]||(o[4]=i=>e.$emit("pointermove",i)),onPointerleave:o[5]||(o[5]=i=>e.$emit("pointerleave",i))}),[e.icon?(G(),se(t,{key:0},{default:E(()=>[(G(),se(po(e.icon)))]),_:1})):fe("v-if",!0),H(e.$slots,"default")],16,_n)],64)}var hn=q(bn,[["render",gn],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const He=()=>{const e=D("elDropdown",{}),o=O(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:o}},wn=M({name:"ElDropdownItem",components:{ElDropdownCollectionItem:zo,ElRovingFocusItem:dn,ElDropdownItemImpl:hn},inheritAttrs:!1,props:Ge,emits:["pointermove","pointerleave","click"],setup(e,{emit:o,attrs:u}){const{elDropdown:s}=He(),c=re(),a=I(null),t=O(()=>{var n,_;return(_=(n=P(a))==null?void 0:n.textContent)!=null?_:""}),{onItemEnter:i,onItemLeave:d}=D(me,void 0),y=Y(n=>(o("pointermove",n),n.defaultPrevented),Ie(n=>{if(e.disabled){d(n);return}const _=n.currentTarget;_===document.activeElement||_.contains(document.activeElement)||(i(n),n.defaultPrevented||_==null||_.focus())})),v=Y(n=>(o("pointerleave",n),n.defaultPrevented),Ie(n=>{d(n)})),h=Y(n=>{if(!e.disabled)return o("click",n),n.type!=="keydown"&&n.defaultPrevented},n=>{var _,p,g;if(e.disabled){n.stopImmediatePropagation();return}(_=s==null?void 0:s.hideOnClick)!=null&&_.value&&((p=s.handleClick)==null||p.call(s)),(g=s.commandHandler)==null||g.call(s,e.command,c,n)}),m=O(()=>({...e,...u}));return{handleClick:h,handlePointerMove:y,handlePointerLeave:v,textContent:t,propsAndAttrs:m}}});function yn(e,o,u,s,c,a){var t;const i=R("el-dropdown-item-impl"),d=R("el-roving-focus-item"),y=R("el-dropdown-collection-item");return G(),se(y,{disabled:e.disabled,"text-value":(t=e.textValue)!=null?t:e.textContent},{default:E(()=>[l(d,{focusable:!e.disabled},{default:E(()=>[l(i,ue(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:E(()=>[H(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Ye=q(wn,[["render",yn],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const En=M({name:"ElDropdownMenu",props:Go,setup(e){const o=ee("dropdown"),{_elDropdownSize:u}=He(),s=u.value,{focusTrapRef:c,onKeydown:a}=D(fo,void 0),{contentRef:t,role:i,triggerId:d}=D(me,void 0),{collectionRef:y,getItems:v}=D(Uo,void 0),{rovingFocusGroupRef:h,rovingFocusGroupRootStyle:m,tabIndex:n,onBlur:_,onFocus:p,onMousedown:g}=D($e,void 0),{collectionRef:f}=D(Ce,void 0),C=O(()=>[o.b("menu"),o.bm("menu",s==null?void 0:s.value)]),N=Ue(t,y,c,h,f),T=Y(B=>{var J;(J=e.onKeydown)==null||J.call(e,B)},B=>{const{currentTarget:J,code:U,target:b}=B;if(J.contains(b),F.tab===U&&B.stopImmediatePropagation(),B.preventDefault(),b!==P(t)||!Vo.includes(U))return;const w=v().filter(S=>!S.disabled).map(S=>S.ref);Ho.includes(U)&&w.reverse(),Te(w)});return{size:s,rovingFocusGroupRootStyle:m,tabIndex:n,dropdownKls:C,role:i,triggerId:d,dropdownListWrapperRef:N,handleKeydown:B=>{T(B),a(B)},onBlur:_,onFocus:p,onMousedown:g}}}),Cn=["role","aria-labelledby"];function $n(e,o,u,s,c,a){return G(),x("ul",{ref:e.dropdownListWrapperRef,class:ce(e.dropdownKls),style:De(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:o[0]||(o[0]=(...t)=>e.onBlur&&e.onBlur(...t)),onFocus:o[1]||(o[1]=(...t)=>e.onFocus&&e.onFocus(...t)),onKeydown:o[2]||(o[2]=he((...t)=>e.handleKeydown&&e.handleKeydown(...t),["self"])),onMousedown:o[3]||(o[3]=he((...t)=>e.onMousedown&&e.onMousedown(...t),["self"]))},[H(e.$slots,"default")],46,Cn)}var Je=q(En,[["render",$n],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const Tn=Ae(mn,{DropdownItem:Ye,DropdownMenu:Je}),In=we(Ye),kn=we(Je),be=Symbol("tabsRootContextKey"),Nn=de({tabs:{type:ae(Array),default:()=>Ke([])}}),We="ElTabBar",Sn=M({name:We}),Rn=M({...Sn,props:Nn,setup(e,{expose:o}){const u=e,s=re(),c=D(be);c||ye(We,"<el-tabs><el-tab-bar /></el-tabs>");const a=ee("tabs"),t=I(),i=I(),d=()=>{let v=0,h=0;const m=["top","bottom"].includes(c.props.tabPosition)?"width":"height",n=m==="width"?"x":"y",_=n==="x"?"left":"top";return u.tabs.every(p=>{var g,f;const C=(f=(g=s.parent)==null?void 0:g.refs)==null?void 0:f[`tab-${p.uid}`];if(!C)return!1;if(!p.active)return!0;v=C[`offset${X(_)}`],h=C[`client${X(m)}`];const N=window.getComputedStyle(C);return m==="width"&&(u.tabs.length>1&&(h-=Number.parseFloat(N.paddingLeft)+Number.parseFloat(N.paddingRight)),v+=Number.parseFloat(N.paddingLeft)),!1}),{[m]:`${h}px`,transform:`translate${X(n)}(${v}px)`}},y=()=>i.value=d();return j(()=>u.tabs,async()=>{await ve(),y()},{immediate:!0}),Le(t,()=>y()),o({ref:t,update:y}),(v,h)=>(G(),x("div",{ref_key:"barRef",ref:t,class:ce([P(a).e("active-bar"),P(a).is(P(c).props.tabPosition)]),style:De(i.value)},null,6))}});var Pn=q(Rn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const Fn=de({panes:{type:ae(Array),default:()=>Ke([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),On={tabClick:(e,o,u)=>u instanceof Event,tabRemove:(e,o)=>o instanceof Event},Pe="ElTabNav",Bn=M({name:Pe,props:Fn,emits:On,setup(e,{expose:o,emit:u}){const s=re(),c=D(be);c||ye(Pe,"<el-tabs><tab-nav /></el-tabs>");const a=ee("tabs"),t=vo(),i=mo(),d=I(),y=I(),v=I(),h=I(),m=I(!1),n=I(0),_=I(!1),p=I(!0),g=O(()=>["top","bottom"].includes(c.props.tabPosition)?"width":"height"),f=O(()=>({transform:`translate${g.value==="width"?"X":"Y"}(-${n.value}px)`})),C=()=>{if(!d.value)return;const b=d.value[`offset${X(g.value)}`],k=n.value;if(!k)return;const w=k>b?k-b:0;n.value=w},N=()=>{if(!d.value||!y.value)return;const b=y.value[`offset${X(g.value)}`],k=d.value[`offset${X(g.value)}`],w=n.value;if(b-w<=k)return;const S=b-w>k*2?w+k:b-k;n.value=S},T=async()=>{const b=y.value;if(!m.value||!v.value||!d.value||!b)return;await ve();const k=v.value.querySelector(".is-active");if(!k)return;const w=d.value,S=["top","bottom"].includes(c.props.tabPosition),K=k.getBoundingClientRect(),L=w.getBoundingClientRect(),V=S?b.offsetWidth-L.width:b.offsetHeight-L.height,r=n.value;let $=r;S?(K.left<L.left&&($=r-(L.left-K.left)),K.right>L.right&&($=r+K.right-L.right)):(K.top<L.top&&($=r-(L.top-K.top)),K.bottom>L.bottom&&($=r+(K.bottom-L.bottom))),$=Math.max($,0),n.value=Math.min($,V)},A=()=>{var b;if(!y.value||!d.value)return;e.stretch&&((b=h.value)==null||b.update());const k=y.value[`offset${X(g.value)}`],w=d.value[`offset${X(g.value)}`],S=n.value;w<k?(m.value=m.value||{},m.value.prev=S,m.value.next=S+w<k,k-S<w&&(n.value=k-w)):(m.value=!1,S>0&&(n.value=0))},B=b=>{const k=b.code,{up:w,down:S,left:K,right:L}=F;if(![w,S,K,L].includes(k))return;const V=Array.from(b.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),r=V.indexOf(b.target);let $;k===K||k===w?r===0?$=V.length-1:$=r-1:r<V.length-1?$=r+1:$=0,V[$].focus({preventScroll:!0}),V[$].click(),J()},J=()=>{p.value&&(_.value=!0)},U=()=>_.value=!1;return j(t,b=>{b==="hidden"?p.value=!1:b==="visible"&&setTimeout(()=>p.value=!0,50)}),j(i,b=>{b?setTimeout(()=>p.value=!0,50):p.value=!1}),Le(v,A),Me(()=>setTimeout(()=>T(),0)),bo(()=>A()),o({scrollToActiveTab:T,removeFocus:U}),j(()=>e.panes,()=>s.update(),{flush:"post",deep:!0}),()=>{const b=m.value?[l("span",{class:[a.e("nav-prev"),a.is("disabled",!m.value.prev)],onClick:C},[l(Z,null,{default:()=>[l(_o,null,null)]})]),l("span",{class:[a.e("nav-next"),a.is("disabled",!m.value.next)],onClick:N},[l(Z,null,{default:()=>[l(go,null,null)]})])]:null,k=e.panes.map((w,S)=>{var K,L,V,r;const $=w.uid,W=w.props.disabled,oe=(L=(K=w.props.name)!=null?K:w.index)!=null?L:`${S}`,ne=!W&&(w.isClosable||e.editable);w.index=`${S}`;const pe=ne?l(Z,{class:"is-icon-close",onClick:Q=>u("tabRemove",w,Q)},{default:()=>[l(ho,null,null)]}):null,_e=((r=(V=w.slots).label)==null?void 0:r.call(V))||w.props.label,Xe=!W&&w.active?0:-1;return l("div",{ref:`tab-${$}`,class:[a.e("item"),a.is(c.props.tabPosition),a.is("active",w.active),a.is("disabled",W),a.is("closable",ne),a.is("focus",_.value)],id:`tab-${oe}`,key:`tab-${$}`,"aria-controls":`pane-${oe}`,role:"tab","aria-selected":w.active,tabindex:Xe,onFocus:()=>J(),onBlur:()=>U(),onClick:Q=>{U(),u("tabClick",w,oe,Q)},onKeydown:Q=>{ne&&(Q.code===F.delete||Q.code===F.backspace)&&u("tabRemove",w,Q)}},[_e,pe])});return l("div",{ref:v,class:[a.e("nav-wrap"),a.is("scrollable",!!m.value),a.is(c.props.tabPosition)]},[b,l("div",{class:a.e("nav-scroll"),ref:d},[l("div",{class:[a.e("nav"),a.is(c.props.tabPosition),a.is("stretch",e.stretch&&["top","bottom"].includes(c.props.tabPosition))],ref:y,style:f.value,role:"tablist",onKeydown:B},[e.type?null:l(Pn,{ref:h,tabs:[...e.panes]},null),k])])])}}}),Dn=de({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:ae(Function),default:()=>!0},stretch:Boolean}),ge=e=>Eo(e)||Co(e),An={[ze]:e=>ge(e),tabClick:(e,o)=>o instanceof Event,tabChange:e=>ge(e),edit:(e,o)=>["remove","add"].includes(o),tabRemove:e=>ge(e),tabAdd:()=>!0};var Kn=M({name:"ElTabs",props:Dn,emits:An,setup(e,{emit:o,slots:u,expose:s}){var c,a;const t=ee("tabs"),{children:i,addChild:d,removeChild:y}=Jo(re(),"ElTabPane"),v=I(),h=I((a=(c=e.modelValue)!=null?c:e.activeName)!=null?a:"0"),m=f=>{h.value=f,o(ze,f),o("tabChange",f)},n=async f=>{var C,N,T;if(!(h.value===f||ke(f)))try{await((C=e.beforeLeave)==null?void 0:C.call(e,f,h.value))!==!1&&(m(f),(T=(N=v.value)==null?void 0:N.removeFocus)==null||T.call(N))}catch{}},_=(f,C,N)=>{f.props.disabled||(n(C),o("tabClick",f,N))},p=(f,C)=>{f.props.disabled||ke(f.props.name)||(C.stopPropagation(),o("edit",f.props.name,"remove"),o("tabRemove",f.props.name))},g=()=>{o("edit",void 0,"add"),o("tabAdd")};return wo({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},O(()=>!!e.activeName)),j(()=>e.activeName,f=>n(f)),j(()=>e.modelValue,f=>n(f)),j(h,async()=>{var f;await ve(),(f=v.value)==null||f.scrollToActiveTab()}),ie(be,{props:e,currentName:h,registerPane:d,unregisterPane:y}),s({currentName:h}),()=>{const f=e.editable||e.addable?l("span",{class:t.e("new-tab"),tabindex:"0",onClick:g,onKeydown:T=>{T.code===F.enter&&g()}},[l(Z,{class:t.is("icon-plus")},{default:()=>[l(yo,null,null)]})]):null,C=l("div",{class:[t.e("header"),t.is(e.tabPosition)]},[f,l(Bn,{ref:v,currentName:h.value,editable:e.editable,type:e.type,panes:i.value,stretch:e.stretch,onTabClick:_,onTabRemove:p},null)]),N=l("div",{class:t.e("content")},[H(u,"default")]);return l("div",{class:[t.b(),t.m(e.tabPosition),{[t.m("card")]:e.type==="card",[t.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[C,N]:[N,C]])}}});const Ln=de({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Mn=["id","aria-hidden","aria-labelledby"],je="ElTabPane",zn=M({name:je}),Gn=M({...zn,props:Ln,setup(e){const o=e,u=re(),s=$o(),c=D(be);c||ye(je,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const a=ee("tab-pane"),t=I(),i=O(()=>o.closable||c.props.closable),d=Ne(()=>{var n;return c.currentName.value===((n=o.name)!=null?n:t.value)}),y=I(d.value),v=O(()=>{var n;return(n=o.name)!=null?n:t.value}),h=Ne(()=>!o.lazy||y.value||d.value);j(d,n=>{n&&(y.value=!0)});const m=To({uid:u.uid,slots:s,props:o,paneName:v,active:d,index:t,isClosable:i});return Me(()=>{c.registerPane(m)}),Io(()=>{c.unregisterPane(m.uid)}),(n,_)=>P(h)?ko((G(),x("div",{key:0,id:`pane-${P(v)}`,class:ce(P(a).b()),role:"tabpanel","aria-hidden":!P(d),"aria-labelledby":`tab-${P(v)}`},[H(n.$slots,"default")],10,Mn)),[[No,P(d)]]):fe("v-if",!0)}});var qe=q(Gn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const Un=Ae(Kn,{TabPane:qe}),Vn=we(qe);const Hn=M({data(){return{activeName:"user1_home",username:"赖国伟"}},mounted(){},methods:{select(){this.$router.push({name:this.activeName,params:{username:this.username}})},admin_login(){this.$router.push("/admin_login")}}}),Yn={class:"header"},Jn={class:"user"},Wn={class:"user_info"},jn=z("div",{class:"level"},"铂金会员",-1),qn={class:"tab"},Xn={class:"login_control"},Qn={class:"el-dropdown-link"},Zn={class:"banner"},xn={class:"nav_item"},et=z("span",null,"首页",-1),ot={class:"nav_item"},nt=z("span",null,"个人中心",-1);function tt(e,o,u,s,c,a){const t=Oo,i=Oe,d=Bo,y=R("Promotion"),v=Z,h=Ee,m=In,n=kn,_=Tn,p=R("House"),g=Vn,f=R("Setting"),C=Un,N=R("router-view");return G(),x(Be,null,[z("div",Yn,[z("div",Jn,[l(i,{class:"box-item",effect:"dark",content:"当前状态未登录，登录享受更多服务",placement:"bottom-start"},{default:E(()=>[l(t,{size:80},{default:E(()=>[te(Ro(e.username),1)]),_:1})]),_:1})]),z("div",Wn,[jn,z("div",qn,[l(d,null,{default:E(()=>[te("购物狂")]),_:1}),l(d,{class:"ml-2",type:"success"},{default:E(()=>[te("贵族")]),_:1})])]),z("div",Xn,[l(_,{"hide-on-click":!1},{dropdown:E(()=>[l(n,null,{default:E(()=>[l(m,null,{default:E(()=>[te("用户登录")]),_:1}),l(m,{onClick:o[0]||(o[0]=T=>e.admin_login())},{default:E(()=>[te("管理员登录")]),_:1})]),_:1})]),default:E(()=>[z("span",Qn,[l(h,{type:"primary"},{default:E(()=>[l(v,null,{default:E(()=>[l(y)]),_:1}),te("登录")]),_:1})])]),_:1})])]),z("div",Zn,[l(C,{class:"demo-tabs",modelValue:e.activeName,"onUpdate:modelValue":o[1]||(o[1]=T=>e.activeName=T),onTabClick:e.select},{default:E(()=>[l(g,{name:"user1_home"},{label:E(()=>[z("span",xn,[l(v,null,{default:E(()=>[l(p)]),_:1}),et])]),_:1}),l(g,{name:"person"},{label:E(()=>[z("span",ot,[l(v,null,{default:E(()=>[l(f)]),_:1}),nt])]),_:1})]),_:1},8,["modelValue","onTabClick"])]),l(N)],64)}const dt=So(Hn,[["render",tt]]);export{dt as default};
